<!doctype html>
<head>
	<meta charset="utf-8">

	<title>Sign Up</title>
	<meta name="description" content="My Parse App">
	<meta name="viewport" content="width=device-width">

	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>

	<script type="text/javascript" src="https://npmcdn.com/parse@2.3.1/dist/parse.min.js"></script>

</head>
<body>
	<div id="login">
		<p> id : <input type="text" id="id"></p>
		<p> pw : <input type="text" id="password"></p>
		<p> email : <input type="text" id="email"></p>
		<input type="button" value="SIGNUP" onclick="signup()">
	</div>
	<script type="text/javascript">
		Parse.initialize("limminsub");
        Parse.serverURL="https://minsubserver.herokuapp.com/parse"


		function signup(){
			var id = $("#id").val();
			var password = $("#password").val();
			var email = $("#email").val();
			var user = new Parse.User();

		if(Parse.User.current()) {
			Parse.User.logOut();
		}

		if(id && password && email){
			var score = 0;
			user.set("username", id);
			user.set("password", password);


			user.signUp()
			.then((user)=> {
				alert("signUp success");
				window.location = "signin.html"
			}, (error) => {
				alert("signup error : " + error.message);
			});
		}
		else {
			alert("wrong data");
		}
		}
	</script>
</body>
</html>